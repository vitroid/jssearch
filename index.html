<!DOCTYPE html>
<html class="no-js" lang="ja" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Search</title>
    <link rel="stylesheet" type="text/css" href="papers.css" />

  </head>


  <body>
    <div class="wrap">
      <div class="container content">


        <div class="post">
          <h1 class="post-title">Research papers of prof. Hideki Tanaka</h1>
          <!-- of Prof. Hideki Tanaka</h1> -->
          <!--<p class="intro"><a href="content.html">予稿集</a></p>
          <p class="intro">会場へのリンク</p>-->
        </div>

        <div class="post">
          <p class="sea">Click on the image to open the PDF file.</p>
          <p class="sea">Accepts regular expressions.</p>
          <p class="sea">If you have a PDF that is missing, or if you find a problem, please let us know by e-mail:<a class="lk" href="maito:vitroid@gmail.com">vitroid@gmail.com</a>.
        </div>

<script src="papers.js"></script>
<!-- https://allabout.co.jp/gm/gc/459917/3/ -->

<div class="popup-wrapper is-hidden"> <!--ラッパー.初期状態では隠れている-->
  <div class="popup-background" onclick="hidePopup()"></div> <!--背景. クリックでラッパー(とその子要素)を隠す-->
  <div class="popup-body">
    <p id="sc"></p>
  </div> <!--ポップアップ本体-->
  <div class="popup-close" onclick="hidePopup()">
    ×
  </div> <!--ダミー-->
</div>

<!--<div id="fav"></div>-->
<div id="searchbox">
  <!-- 検索窓 -->
  <div class="wrap">
    <!-- ポップアップでキーワード選び -->
    <button onclick="showPopup()">▼</button>  <!--ボタン. クリックでラッパー（とその子要素）見せる. divを使ってもいい-->
    <input type="text" id="q" onkeyup="do_find(this.value)" onkeydown="key(event.keyCode)" autocomplete="off" placeholder="Search">　<span id="stat"></span>

  </div>
  <!-- 検索数 -->
  <div id="navi"></div>
  <!-- 検索結果 -->
  <div id="result"></div>
</div>

<!-- https://qiita.com/863/items/4fc6678db96042190d7d -->
<script>
    /*ポップアップを見せる関数*/
    function showPopup(){
      var x = document.getElementsByClassName("popup-wrapper"); /*クラス名"popup-wrapper"のオブジェクトの配列を取得*/
      x[0].classList.remove("is-hidden"); /* 最初のオブジェクトが持つCSSクラス("popup-wrapper is-hidden")から"is-hidden"取り除く*/
      }

    /*ポップアップを隠す関数*/
    function hidePopup(){
      var x = document.getElementsByClassName("popup-wrapper");
      x[0].classList.add("is-hidden"); /* CSSクラス"is-hidden"を付け足す*/
      }
</script>

<script>
{
	$_ = String.prototype;

	$_.mReplace = function(pat,flag){
		var temp = this;
		if(!flag){flag=""}
		for(var i in pat){
			var re = new RegExp(i,flag);
			temp = temp.replace(re,pat[i])
		}
		return temp;
	};
}

{
	$_ = Date.prototype;

	$_.format = "yyyy-mm-dd HH:MM:SS";
	$_.formatTime = function(format){
		var yy;
		var o = {
			yyyy : ((yy = this.getYear()) < 2000)? yy+1900 : yy,
			mm   : this.getMonth() + 1,
			dd   : this.getDate(),
			HH   : this.getHours(),
			MM   : this.getMinutes(),
			SS   : this.getSeconds()
		}
		for(var i in o){
			if (o[i] < 10) o[i] = "0" + o[i];
		}
		return (format) ? format.mReplace(o) : this.format.mReplace(o);
	}
}
</script>
<script>
gid("q").focus();
  gid('q').addEventListener('compositionend', (event) => {
							do_find(gid('q').value);
  console.log(`generated characters were: ${event.data}`);
});
var start = new Date().getTime();
var bodylist = [];
var st = gid("stat");
var re = gid("result");
var nv = gid("navi");
//var fv = gid("fav");

var sc=[
  ["Nature", ">Nature"],//4
  ["PNAS", "pnas"],//2
  ["JACS", "J[a-z.]* Am[a-z.]* Chem[a-z.]* Soc"],//2
  ["PhysRev", "Phys[a-z.]* Rev"],//11
  ["JCP", "J[a-z. ]* Chem[a-z.]* Phys"],//44
  ["JPC", "J[a-z.]* Phys[a-z.]* Chem"],//16
  ["PCCP", "Phys[a-z.]* Chem[a-z.]* Chem[a-z.]* Phys"],//5

  ["molecul", "molecul"],//108
  ["dynamic", "dynamic"],//105
  ["water", "water"],//94
  ["structur", "structur"],//67
  ["Phase", "phase"],//63
  ["ice", " ice"],//58
  ["thermodynamic", "thermodynamic"],//44
  ["hydrate", "hydrate"],//43
  ["clathrate", "clathrate"],//37
  ["stabilit", "stabilit"],//33
  ["aqueous", "aqueous"],//26
  ["mechanic", "mechanic"],//12
  ["statistic", "statistic"],//10
  ["polymer", "polymer"],//9
  ["Fluctuat", "fluctuat"],//7
  ["filled", "filled"],//3
  ["plastic", "plastic"],//6

  ["Matsumoto", "Matsumoto"],//42
  ["Koga", "Koga"],//37
  ["Nakanishi", "Nakanishi"],//33
  ["Yagasaki", "Yagasaki"],//29
  ["Zeng", "Zeng"],//21
  ["Tamai", "Tamai"],//12
  ["Hakim", "Hakim"],//6
  ["Ohmine", "Ohmine"],//5
  ["Touhara", "Touhara"],//5
  ["Himoto", "Himoto"],//4
  ["Gubbins", "Gubbins"],//4
  ["Gao", "Gao"],//4
  ["Slovak", "Slov.k"],//4
  ["Hayashi", "Hayashi"],//3
  ["Koyama", "Koyama"],//3
  ["Okazaki", "Okazaki"],//3

  ["1982-1989", "[(]198[0-9][)]"],
  ["1990-1999", "[(]199[0-9][)]"],
  ["2000-2009", "[(]200[0-9][)]"],
  ["2010-2019", "[(]201[0-9][)]"],
  ["2020-", "[(]202[0-9][)]"],
];

var max = 10;
var KC = {
	enter: 13,
	left : 37,
	right: 39,
	up   : 38,
	down : 40
};

function gid(id){
	return document.getElementById(id);
}
function ignore_case(){
	var a = arguments;
	return "[" + a[0] + a[0].toUpperCase() + "]"
}
function do_find(v){
	if(this.lastquery == v){return}
	this.lastquery = v;
	var re = find(v);
	pagenavi(re);
	view(re)
  pagenavi(re);
}
function key(c){
	switch(c){
		case KC.up   : mv(-1);break;
		case KC.down : mv(1);break;
	}
}
function find(v){
	var query = v;
	if(!v){return []}
	var aimai;
	if(query){
		try{
			reg = new RegExp(query,"gi");
		}catch(e){
			reg = /(.)/g;
		}
	}else{
		reg = /(.)/g;
	}
	var start = new Date().getTime();
	var result = [];
	for(var i=0;i<data.length;i++){
		var s = bodylist[i];
    reg.lastIndex = 0; // because reg remembers the last place
		var res = reg.exec(s);
		if(!res){continue}
		var len = res[0].length;
		var idx = res.index;
		if(idx != -1){
			result.push([i,idx,len]);
		}
	}
	//if(result.length){
		st.innerHTML = result.length +" papers found.";
	//}
	var end = new Date().getTime();

	console.log("Find:"+ (end-start) + " ms");
	return result;
}
function time2date(time){
	if(!this.cache){this.cache = {}};
	if(this.cache[time]) return this.cache[time];
	var d = new Date(time*1000);
	this.cache[time] = d.formatTime("yyyy年mm月dd日");
	return this.cache[time];
}
function snippet(body,idx,len){
	var start = idx - 20;
	return [
		body.substring(start,idx),
		,"<b>"
		,body.substr(idx,len)
		,"</b>"
		,body.substr(idx+len,50),
	].join("");
}
function pagenavi(result){
	var len = result.length;
	var ct = Math.ceil(len/max);
	var buf = [];
	for(var i=0;i<ct;i++){
		buf.push(
			"<span onclick='view(\"\","
			,i+1
			,");sw(",i,")'>"
			,i+1
			,"</span>"
		);
	}
	nv.innerHTML = buf.join("");
	sw(0);
}
function sw(t){
	var span = nv.getElementsByTagName("span");
	for(var i=0;i<span.length;i++){
		span[i].className = (i==t)?"selected":"";
	}
}
function mv(to){
	var span = nv.getElementsByTagName("span");
	var current;
	if(!span.length){return}
	for(var i=0;i<span.length;i++){
		if(span[i].className == "selected"){
			current = i;break;
		}
	}
	var moveto = current+to;
	if(moveto < 0){moveto += span.length}
	if(moveto > span.length-1){moveto=0}
	sw(moveto);
	view("",moveto+1)
}
/*2020 new*/
function scquery(v){
  document.getElementById("q").value = v;
  do_find(v);
}
function onesearch(bin){
  query(bin.id.substring(1)); //elim first v
}

function view(result,offset){
	if(!offset){offset = 1}
	if(!result){
		result = this.last;
	}else{
		this.last = result;
	}
	//var r = result.reverse();
  var r = result;
	var buf = ["<table>"];
	var count = 0;
	for(var i=(offset-1)*max;i<r.length;i++){
		count++;
		if(count > max){break}
		var num = r[i][0];
		var idx = r[i][1];
		var len = r[i][2];
		with(data[num]){
      var URL = 'https://doi.org/' + DOI;
			buf.push(
		       "<tr class='r'><td class='i'><a href='",PDF,"' target='_blank'><img src='",tn,"' /></a></td>",
		       "<td class='d'><a class='ti' href='"+URL+"'>", ti, "</a><br />", au, "<br /><p>", pu, "</p>DOI: <a class='lk' href='"+URL+"'>"+DOI+"</a><br /><div class='m'>..."
		       ,snippet(bodylist[num],idx,len)
		       ,"</m></td></tr>"
			);
		}
	}
	buf.push("</table>");
	re.innerHTML = buf.join("");
}


function shortcuts(){
  s = [];
  for(let i in sc){
    s.push('<span class="lk2" onclick="hidePopup();scquery(\''+sc[i][1]+'\')">'+sc[i][0]+'</span> ');
  }
  gid('sc').innerHTML = s.join("");
}

shortcuts();

// get from local storage
var checked;
if (window.localStorage.hasOwnProperty("checked")){
  checked = new Set(window.localStorage.checked.split(" "));
}
else{
  checked = new Set();
}
// set initial timetable
var labels=Array.from(checked);
for(let label in labels){
  var field = gid("v"+labels[label]);
  if (field){
    field.style.backgroundColor = "#0075ff";
  }
}
//for debug
//fv.innerHTML = window.localStorage.checked;


for(var i=0;i<data.length;i++){
	bodylist.push(data[i].con);
}
//var bodyidx = bodylist.join("<>");
var end = new Date().getTime();

console.log("Index:"+ (end-start) + " ms");
</script>
<noscript><p class="notice">Note: This search uses JavaScript.</p></noscript>

</div>

      </div>
    </div>


<!-- Original code is available at http://rs.luminousspice.com/search/       &copy; 2017 luminousspice.com.
     Modified and improved by 2019 Masakazu Matsumoto. -->


  </body>
</html>
